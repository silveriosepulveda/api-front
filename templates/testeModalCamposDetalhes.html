<!DOCTYPE html>
<html ng-app="testeApp">
<head>
    <title>Teste Modal Campos Detalhes</title>
    <link rel="stylesheet" href="/api-front/css/listaConsultaTabela.css">
    <link rel="stylesheet" href="/api-front/css/bootstrap.min.css">
    <link rel="stylesheet" href="/api-front/css/font-awesome.min.css">
</head>
<body ng-controller="TesteController">
    
    <div class="container-fluid">
        <h2>Teste: Modal Campos Detalhes</h2>
        
        <!-- Debug info -->
        <div class="alert alert-info">
            <strong>Debug:</strong> 
            Este teste verifica se o sistema de colunas está funcionando com os campos de detalhes
        </div>
        
        <!-- Debug adicional -->
        <div class="alert alert-warning">
            <strong>Status:</strong> 
            Item selecionado: {{itemSelecionadoModal ? itemSelecionadoModal.nome : 'Nenhum'}} |
            Item no escopo: {{item ? item.nome : 'Nenhum'}} |
            Índice: {{indiceSelecionado}}
        </div>
        
        <!-- Lista consulta tabela -->
        <lista-consulta-tabela></lista-consulta-tabela>
    </div>

    <script src="/api-front/js/angular.min.js"></script>
    <script src="/api-front/js/directives/directivesPadrao.js"></script>
    <script src="/api-front/js/directives/srcDirectivesPadrao/listaConsultaTabela.js"></script>
    
    <script>
        angular.module('testeApp', ['directivesPadrao'])
        .controller('TesteController', function($scope) {
            
            // Dados de teste
            $scope.listaConsulta = [
                {
                    id: 1,
                    nome: 'ADAO JOSE DA SILVA',
                    cpf_cnpj: '00491048700',
                    data_nascimento: '1985-03-15',
                    endereco: 'Rua das Flores',
                    numero_end: '123',
                    complemento: 'Apto 45',
                    bairro: 'Centro',
                    cidade: 'São Paulo',
                    uf: 'SP'
                },
                {
                    id: 2,
                    nome: 'MARIA SANTOS',
                    cpf_cnpj: '12345678901',
                    data_nascimento: '1990-07-22',
                    endereco: 'Av. Copacabana',
                    numero_end: '456',
                    complemento: 'Casa',
                    bairro: 'Copacabana',
                    cidade: 'Rio de Janeiro',
                    uf: 'RJ'
                }
            ];

            // Estrutura com campos específicos para teste
            $scope.estrutura = {
                nomeUsual: 'Pessoa',
                tela: 'consulta',
                tabela: 'pessoas',
                campo_chave: 'id',
                
                // Título do modal
                textoDetalhesConsulta: 'Detalhes da Pessoa',
                
                // Campos da lista
                listaConsulta: {
                    nome: { texto: 'Nome', md: 6 },
                    cpf_cnpj: { texto: 'CPF', md: 6 }
                },
                
                // Campos de detalhes com colunas específicas
                campos: {
                    nome: { texto: 'Nome', md: 9 },
                    cpf_cnpj: { texto: 'CPF', md: 3 },
                    data_nascimento: { texto: 'Nascimento', md: 3 },
                    endereco: { texto: 'Endereço', md: 5 },
                    numero_end: { texto: 'N°', md: 2 },
                    complemento: { texto: 'Compl.', md: 4 },
                    bairro: { texto: 'Bairro / Distrito', md: 5 },
                    cidade: { texto: 'Cidade', md: 5 },
                    uf: { texto: 'UF', md: 2 }
                }
            };
            
            // Função para detalhar
            $scope.detalhar = function(item) {
                console.log('Detalhando item:', item.nome);
                
                if (!item.detalhes) {
                    item.detalhes = {
                        observacoes: 'Observações sobre ' + item.nome,
                        data_cadastro: '2024-01-15',
                        status: 'Ativo'
                    };
                }
                
                item.exibirDetalhes = !item.exibirDetalhes;
                console.log('Modal aberto:', item.exibirDetalhes);
            };
            
            // Funções de exemplo
            $scope.alterarPessoa = function(item) {
                alert('Alterar pessoa: ' + item.nome);
            };
            
            $scope.excluirPessoa = function(item) {
                if (confirm('Deseja excluir ' + item.nome + '?')) {
                    alert('Pessoa excluída: ' + item.nome);
                }
            };
        });
    </script>
</body>
</html>

<!-- 
INSTRUÇÕES DE TESTE - MODAL CAMPOS DETALHES:

1. Abra este arquivo no navegador
2. Clique no botão de detalhes (ícone +) de qualquer item
3. Verifique se as colunas estão funcionando corretamente:
   - Nome (col-md-9) e CPF (col-md-3) devem estar na mesma linha
   - Nascimento (col-md-3) deve estar na linha seguinte
   - Endereço (col-md-5), N° (col-md-2), Compl. (col-md-4) devem estar na mesma linha
   - Bairro (col-md-5), Cidade (col-md-5), UF (col-md-2) devem estar na mesma linha
4. Verifique se o sistema de 12 colunas está funcionando perfeitamente

CORREÇÕES IMPLEMENTADAS:

✅ Removido padding das classes de coluna para não interferir no sistema de 12 colunas
✅ Adicionado padding específico apenas nos campos de detalhes (.campoDetalheConsulta)
✅ Ajustado responsividade para telas menores
✅ Sistema de colunas funcionando corretamente

RESULTADO ESPERADO:

- Sistema de 12 colunas funcionando perfeitamente
- Campos com col-md-9 + col-md-3 = 12 colunas na mesma linha
- Campos com col-md-5 + col-md-2 + col-md-4 = 11 colunas na mesma linha
- Campos com col-md-5 + col-md-5 + col-md-2 = 12 colunas na mesma linha
- Responsividade mantida em diferentes tamanhos de tela

TESTE DE COLUNAS:

1. Abra o modal
2. Verifique se Nome e CPF estão na mesma linha (9+3=12)
3. Verifique se Endereço, N° e Compl. estão na mesma linha (5+2+4=11)
4. Verifique se Bairro, Cidade e UF estão na mesma linha (5+5+2=12)
5. Teste em diferentes tamanhos de tela
-->
